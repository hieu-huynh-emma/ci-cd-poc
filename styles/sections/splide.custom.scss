@import "../abstracts/index";

.splide {
  $this: &;
  --color: #2e2f3c;
  --active-color: #ff8900;

  --size: 48px;
  $spacing: 40px;

  max-width: 100%;
  opacity: 1;

  &__arrows {
    z-index: 2;

    &:not(.splide__arrows--ttb):not(.splide__arrows--old) {
      position: absolute;
      top: 0;
      right: 0;

      display: flex;
      gap: 1.5rem;

      transform: translate(0, calc((var(--size) + $spacing) * -1));

      #{$this}__arrow {
        --color: var(--color-cultured);
        position: static;

        svg {
          transform: none;
        }
      }
    }

    &.splide__arrows--ttb {
      #{$this}__arrow {
        svg {
          color: white
        }

        &--prev svg {
          transform: rotate(90deg);
        }
      }
    }

    &.splide__arrows--old {
      #{$this}__arrow {

        --size: 56px;

        svg {
          width: auto;
          height: 40%;
        }

        &--prev {
          left: 0;
          border-radius: 20px;
          @media screen and (min-width: 768px) {
            border-radius: 100%;
            transform: translateX(-50%) translateY(-50%)
          }
        }

        &--next {
          right: 0;
          border-radius: 20px;
          @media screen and (min-width: 768px) {
            border-radius: 100%;
            transform: translateX(50%) translateY(-50%)
          }
        }
      }
    }
  }

  &__arrow {
    z-index: 3;
    width: var(--size);
    height: var(--size);
    transform: none;
    opacity: 1;
    background-color: var(--color);

    svg {
      fill: none;
    }
  }

  &.pagination-bar {
    #{$this}__pagination {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
      grid-template-rows: minmax(0, 1fr);

      > li {
        --color: var(--color-cultured);

        height: 4px;
        background-color: var(--color);
        overflow: hidden;

        &:first-child {
          border-radius: 8px 0 0 8px;
        }

        &:last-child {
          border-radius: 0 8px 8px 0;
        }
      }

      &__page {

        display: block;
        height: 4px;
        margin: 0;
        padding: 0;
        background-color: var(--color) !important;
        opacity: 1;
        transition: .2s linear;
        color: inherit;
        border: none;
        border-radius: 0;

        font: inherit;
        cursor: pointer;
        outline: inherit;

        &.is-active {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          transform: none;
          width: 100%;

          &:after {
            position: absolute;
            content: "";
            width: 100%;
            height: 100%;
            background-color: var(--active-color);

            border-radius: 8px;
          }

        }
      }
    }
  }

  &:not(.pagination-bar) {

    #{$this}__pagination {
      bottom: 0;
      display: grid;
      gap: 8px;
      grid-template-columns:repeat(auto-fit, minmax(8px, auto));
      justify-content: center;
      padding: 0;

      &__page {
        width: 8px;
        height: 8px;
        margin: 0;
        padding: 0;
        background-color: #b0b1c2 !important;
        opacity: 1;
        transition: .2s linear;

        &.is-active {
          width: 26px;
          border-radius: 8px;
          background-color: #ff8900 !important;
          transform: none
        }
      }
    }
  }

  &.is-active {
    &:not(.no-gutter) {
      #{$this}__track {
        z-index: 1;
        padding: 0 0 calc(20px + 8px);
        @media screen and (min-width: 769px) {
          padding: 0 0 calc(40px + 8px)
        }
      }
    }
  }

  &--borderless {
    #{$this}__arrows {
      @include page-boundary-left();
      @include page-boundary-right();
    }
  }

}

