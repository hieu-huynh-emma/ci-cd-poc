
<cart-cross-sell
  id="CartDrawerCrossSell-{{ section.id }}"
  class="!m-0"
>
  <div class="flex flex-col">
    {% if section.settings.cross_sell_title != blank %}
    <p class="text-base font-bold mb-2 shopify-richtext">
      {{ section.settings.cross_sell_title }}
    </p>
    {% endif %}
    {% if section.settings.cross_sell_description != blank %}
      <div class="flex gap-2 mb-4 p-2 bg-[#F1F1F8] rounded-lg">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <g clip-path="url(#clip0_595_24924)">
            <path d="M3.64653 3.0201C3.74418 3.11776 3.87211 3.16659 4.00004 3.16659C4.12797 3.16659 4.2559 3.11776 4.35355 3.0201C4.54887 2.82479 4.54887 2.50838 4.35355 2.31307L3.02022 0.979732C2.92973 0.889239 2.80473 0.833252 2.66671 0.833252C2.52869 0.833252 2.40369 0.889239 2.31319 0.979739L0.979859 2.31307C0.784546 2.50839 0.784546 2.82479 0.979859 3.02011C1.17517 3.21542 1.49158 3.21542 1.68689 3.02011L2.16671 2.54029V11.9999C2.16671 12.276 2.39067 12.4999 2.66671 12.4999C2.94275 12.4999 3.16671 12.276 3.16671 11.9999V2.54029L3.64653 3.0201Z" fill="#403833"/>
            <path d="M15.0202 12.9797L13.6869 11.6464C13.4916 11.4511 13.1752 11.4511 12.9799 11.6464C12.7845 11.8417 12.7845 12.1581 12.9799 12.3534L13.4597 12.8333H4.00004C3.724 12.8333 3.50004 13.0572 3.50004 13.3333C3.50004 13.6093 3.724 13.8333 4.00004 13.8333H13.4597L12.9799 14.3131C12.7845 14.5084 12.7845 14.8248 12.9799 15.0201C13.0775 15.1178 13.2051 15.1666 13.3334 15.1666C13.4616 15.1666 13.5892 15.1178 13.6869 15.0201L15.0202 13.6868C15.1107 13.5963 15.1667 13.4713 15.1667 13.3333C15.1667 13.1952 15.1107 13.0702 15.0202 12.9797Z" fill="#403833"/>
            <path d="M4.16671 4.66659V11.3333C4.16671 11.6093 4.39067 11.8333 4.66671 11.8333H11.3334C11.6094 11.8333 11.8334 11.6093 11.8334 11.3333V4.66659C11.8334 4.39055 11.6094 4.16659 11.3334 4.16659H4.66671C4.39067 4.16659 4.16671 4.39055 4.16671 4.66659ZM5.16671 5.16659H10.8334V10.8333H5.16671V5.16659Z" fill="#403833"/>
          </g>
          <defs>
            <clipPath id="clip0_595_24924">
              <rect width="16" height="16" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <div class="flex flex-col shopify-richtext">
          <span class="text-xs font-semibold">{{ section.settings.cross_sell_description }}</span>
        </div>
      </div>
    {% endif %}
        <ul class="w-full max-w-full flex flex-col gap-4 items-center">

          {% for product in section.settings.cart_upsell_products limit: 3 %}
        
            {% assign prod = all_products[product.handle] %}
              <li class="w-full">
                <div class="cross-sell-item flex flex-col gap-2 {% if prod.has_only_default_variant %}h-[180px]{% endif %}" data-product-id="{{ prod.variants.first.id }}" :productId="{{ prod.id }}">
                   {% render 'cross-sell-card-overlay',
                    product: prod,
                    atc_text: section.settings.atc_text
                  %}
                </div>
              </li>
          {% endfor %}
        </ul>

  </div>
</cart-cross-sell>
<script delay src="{{ 'cart-drawer-cross-sell.js' | asset_url }}"></script>

{% schema %}
    {
      "name": "Cart Drawer Cross Sell",
      "tag":"section",
      "settings": [
        { 
          "type": "header",
          "content": "Cross Sell Section"
        },
        { 
          "id": "cross_sell_title",
          "type": "text",
          "label": "Title",
          "default": "Many other people have seen it!"
        },
        { 
          "id": "cross_sell_description",
          "type": "text",
          "label": "Description",
          "default": "It's a mattress of the same size as the product you are looking at now!"
    
        },
        { 
          "id": "cart_upsell_products",
          "type": "product_list",
          "label": "Products list for cross sell",
          "info": "Maximum 3 products"
        },
        { 
          "id": "atc_text",
          "type": "text",
          "label": "CTA Text",
          "default": "Add to Cart"
        }
      
      ]
    }
    {% endschema %}