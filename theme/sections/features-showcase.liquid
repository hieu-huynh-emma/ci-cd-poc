<link rel="quickscript" loading="delayed" href="{{ 'features-showcase.css' | asset_url }}">

{% capture features %}
  {% for block in section.blocks %}
    <li class="splide__slide">
      <div class="card">
        <p class="card__title">{{ block.settings.heading }}</p>
        <div class="card__body">
          <p class="card__content">
            {% render 'rtf-viewer', content: block.settings.content %}
          </p>
        </div>
        <div class="card__footer">
          <div class="card__footer-content">
            {% render 'rtf-viewer', content: block.settings.engagement_content %}
          </div>
        </div>
      </div>
    </li>

  {% endfor %}
{% endcapture %}

<section id="features-showcase" class="section-container spacing-{{ section.settings.container_spacing }}">
  <div class="section-chassis page-boundary">
    {% render 'section-header' %}

    <div class="section-body">
      <div class="hidden md:block">
        <ul class="features">
          {{ features }}
        </ul>
      </div>

      <div class="splide md:hidden">
        {% include 'splide-arrows', old: true %}

        <div class="splide__track">
          <ul class="splide__list">
            {{ features }}
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<script type="quickscript" loading="delayed" src="{{ "features-showcase.js" | asset_url }}"></script>

{% schema %}
{
  "name": "Features Showcase",
  "blocks": [
    {
      "type": "item",
      "name": "Item",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "id": "content",
          "type": "richtext",
          "label": "Content"
        },
        {
          "id": "engagement_content",
          "type": "richtext",
          "label": "Engagement Content"
        }
      ]
    }
  ],
  "settings": [
    {
      "id": "heading",
      "type": "text",
      "label": "Heading"
    },
    {
      "id": "subheading",
      "type": "text",
      "label": "SubHeading"
    },
    {
      "id": "heading_alignment",
      "type": "select",
      "label": "Heading Alignment",
      "options": [
        {
          "value": "start",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "end",
          "label": "Right"
        }
      ],
      "default": "start"
    },
    {
      "type": "select",
      "id": "container_spacing",
      "options": [
        {
          "value": "lg",
          "label": "Large (60px)"
        },
        {
          "value": "md",
          "label": "Medium (40px)"
        }
      ],
      "default": "md",
      "label": "Container Spacing"
    },
    {
      "type": "text",
      "id": "trackId",
      "label": "Tracking ID"
    }
  ],
  "presets": [
    {
      "name": "Features Showcase"
    }
  ]
}
{% endschema %}
