{% assign media = block.video %}
{% assign poster = media | image_url: width: 100 | prepend: "https:" %}

<shoppable-video data-type="{{ block.type }}">
	<div class="player-container">

		<video playsinline preload="none" loop poster="{{ poster }}">
			{% for source in media.sources %}
				{% if source.mime_type != "application/x-mpegURL" %}
					<source
							src="{{ source.url }}"
							type="{{ source.mime_type }}">
				{% endif %}
			{% endfor %}
		</video>
	</div>

	<div class="player-controls">
		<div class="play-icon hidden">
			<svg width="80px" height="80px" viewBox="0 0 80 80" fill="none">
				<circle opacity="0.7" cx="40" cy="40" r="40" fill="#2e2f3c"></circle>
				<path
						d="M31.25 25.5162C31.25 24.7389 32.098 24.2588 32.7645 24.6587L57.6188 39.5713C57.9424 39.7655 57.9424 40.2345 57.6188 40.4287L32.7645 55.3413C32.098 55.7412 31.25 55.2611 31.25 54.4838V25.5162Z"
						fill="white"></path>
			</svg>
		</div>
	</div>

	{% if block.product != blank %}
		<div class="player-interaction">
			<div class="interaction-bg"></div>
			<div class="cta-card">
				<div class="cta-title-container">{{ block.content }}</div>
				<div class="cta-answer-container">
					<a class="btn cta-card-button" href="{{ block.product.url }}">Shop {{ block.product.title }}</a>
				</div>
			</div>
		</div>
	{% endif %}

</shoppable-video>
